patches-own [
  r  ;; growth rate
  k  ;; carying capacity
  q  ;; actual quantity 0 -100
]

to patches-setColor 
  ask patches [
    set pcolor  scale-color green q 1 100 ]
end

to patches-update
  ask patches [
    set q  (q + (r * q / k))
  ]
  
  diffuse q diff-rate
  patches-setColor
end